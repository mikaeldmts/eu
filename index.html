<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GitHub Profile Realtime Dashboard</title>
    <script>
      if (window.location.hostname.endsWith("github.io") && window.location.pathname === "/eu") {
        window.location.replace("/eu/" + window.location.search + window.location.hash);
      }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="layout">
      <section class="card hero-card">
        <div class="hero-top">
          <div>
            <p class="kicker">GitHub Intelligence Panel</p>
            <h1 id="title">GitHub Profile</h1>
            <p class="hero-text">Monitoramento automático de métricas públicas do perfil em tempo quase real.</p>
          </div>
          <div class="status-chip">
            <span class="status-label">Status</span>
            <strong id="status">Conectando...</strong>
          </div>
        </div>

        <div class="profile-wrap">
          <img id="avatar" alt="Avatar do perfil" />
          <div class="profile-content">
            <p id="name" class="name">Carregando...</p>
            <a id="username" href="#" target="_blank" rel="noreferrer">@...</a>
            <p id="bio" class="bio">Aguardando dados da API do GitHub...</p>
          </div>
        </div>
      </section>

      <section class="card stats-card">
        <div class="section-head">
          <h2>Indicadores</h2>
          <p class="section-note">Dados do endpoint público `users/{username}`</p>
        </div>
        <div class="grid">
          <article class="stat-tile">
            <p class="label">Repos públicos</p>
            <p id="repos" class="value">-</p>
          </article>
          <article class="stat-tile">
            <p class="label">Último update GitHub</p>
            <p id="githubUpdated" class="value small">-</p>
          </article>
        </div>
      </section>

      <section class="card repos-card">
        <div class="section-head">
          <h2>Repositórios</h2>
          <p id="repoCountNote" class="section-note">Aguardando carregamento...</p>
        </div>
        <div id="repoCards" class="repo-grid">
          <article class="repo-card empty">
            <p class="label">Sem dados no momento.</p>
          </article>
        </div>
      </section>

      <section class="card skills-card">
        <div class="section-head">
          <h2>Skills & Proficiência</h2>
          <p id="skillsCountNote" class="section-note">Aguardando análise...</p>
        </div>

        <div class="skills-explainer">
          <div class="skills-explainer-head">
            <i class="fas fa-circle-info"></i>
            <h3>Como a proficiência é calculada?</h3>
          </div>
          <p>
            Os dados abaixo são coletados em tempo real dos repositórios públicos do GitHub. O score combina:
          </p>
          <ul>
            <li><strong>Volume de código</strong> por linguagem (tamanho dos repositórios)</li>
            <li><strong>Frequência de uso</strong> em projetos diferentes</li>
            <li><strong>Diversidade tecnológica</strong> inferida por linguagem e contexto dos projetos</li>
          </ul>
          <p class="skills-legend">
            As estrelas representam nível de proficiência (1-5), e a porcentagem mostra a força relativa da skill.
          </p>
        </div>

        <div id="skillsLoading" class="skills-loading">
          <div class="loader-dot"></div>
          <p>Analisando repositórios e montando skills...</p>
        </div>

        <div id="skillsGrid" class="skills-grid"></div>
      </section>

      <section class="card timeline-card">
        <h2>Linha do Tempo</h2>
        <div class="timeline-item">
          <p class="label">Última leitura local</p>
          <p id="syncedAt" class="value small">-</p>
        </div>
      </section>
    </main>

    <script src="./config.js"></script>
    <script type="module" src="./app.js"></script>
    
    <!-- Chat Widget -->
    <script type="module" src="./assets/js/widget-chat.js"></script>

    <!-- Admin Footer Button -->
    <style>
        .admin-footer {
            position: fixed !important;
            bottom: 20px !important;
            left: 20px !important;
            z-index: 99 !important;
            font-size: 12px !important;
        }

        .admin-footer a {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 10px 14px;
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 1px solid rgba(102, 126, 234, 0.25);
            font-weight: 500;
            backdrop-filter: blur(5px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .admin-footer a:hover {
            background: rgba(102, 126, 234, 0.25);
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .admin-footer i {
            font-size: 12px;
        }

        @media (max-width: 600px) {
            .admin-footer {
                bottom: 130px !important;
                left: 15px !important;
            }

            .admin-footer a {
                padding: 8px 12px;
                font-size: 11px;
            }

            .admin-footer i {
                font-size: 11px;
            }
        }
    </style>

    <div class="admin-footer">
        <a href="login.html" title="Painel de administrador">
            <i class="fas fa-lock"></i>
            <span>Admin</span>
        </a>
    </div>
  </body>
</html>
